<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tela Usuario</title>

    <link rel="stylesheet" href="css/manual.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/menuLateral.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- <script src="js/script.js"></script> -->
    <script src="js/manual.js"></script>
    <script src="js/manuais.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- <script src="http://www.chartjs.org/dist/2.7.1/Chart.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

</head>

<body>
    <div class="sidebar">
        <nav class="menu-lateral" id="menu-lateral">

            <div class="expandir">
                <i class="bi bi-list" onclick="expandir()"></i>
            </div>

            <ul class="menu">
                <li class="item-menu ativo" onclick="mudarContainer('#')">
                    <i class="bi bi-person icone"></i>
                    <span class="txt-link">
                        Usuário
                    </span>
                </li>

                <li class="item-menu" onclick="mudarContainer('#manuais')">
                    <i class="bi bi-journal icone"></i>
                    <span class="txt-link">
                        Usuário
                    </span>
                </li>

                <li class="item-menu" onclick="mudarContainer('#grafMax')">
                    <span class="icone">
                        <i class="bi bi-columns-gap"></i>
                    </span>
                    <span class="txt-link">
                        Geral
                    </span>
                </li>

                <li class="item-menu" onclick="mudarContainer('#grafCard')">
                    <span class="icone">
                        <i class="bi bi-pc-display"></i>
                    </span>
                    <span class="txt-link">
                        Informações
                    </span>
                </li>

                <li class="item-menu" onclick="mudarContainer('#grafMin')">
                    <span class="icone">
                        <i class="bi bi-speedometer2"></i>
                    </span>
                    <span class="txt-link">
                        Dashboard
                    </span>
                </li>

                <li class="item-menu" onclick="mudarContainer('index.html')">
                    <span class="icone">
                        <i class="bi bi-box-arrow-left"></i>
                    </span>
                    <span class="txt-link">
                        sair
                    </span>
                </li>

            </ul>
        </nav>
    </div>
    <div class="conteudo">

        <div class="container">

            <div class="conteudo_user" id="conteudo_user">

                <div class="btns_user">

                    <div class="botao_user border-azul"
                        onclick="mudarTelaUser('conteudo_user_perfil', 'conteudo_user')">
                        <label for="html">INFORMAÇÕES DA CONTA</label>
                    </div>

                    <div class="botao_user border-vermelho" onclick="mudarTela('cadastro')">
                        <label for="html" onclick="window.location.href = 'cadastro.html'">CADASTRAR
                            USUÁRIO</label>
                    </div>

                </div>

                <div class="tabela_user">

                    <div class="header_tabela">

                        <div class="radio-container">

                            <label for="radio" class="radio_label" id="radio_label_comp" onclick="mudarTabela(this.id)">
                                <input type="radio" id="radio" name="radio_user" checked />
                                <div class="custom-radio">
                                    <span></span>
                                </div>
                                <span>Computadores</span>
                            </label>

                        </div>

                        <div class="radio-container">

                            <label for="radio1" class="radio_label" id="radio_label_user"
                                onclick="mudarTabela(this.id)">
                                <input type="radio" id="radio1" name="radio_user" />
                                <div class="custom-radio">
                                    <span></span>
                                </div>
                                <span>Usuarios</span>
                            </label>

                        </div>

                    </div>

                    <div class="tabela_usuario">

                        <div id="div_tabela_geral_comp">
                            <dialog id="dialog_tabela">
                                Excluir maquina?
                                <button>Sim</button>
                                <button>Não</button>
                            </dialog>
                            <table class="tabela_geral" id="tabela_geral_comp">
                                <tr>
                                    <th>COMPUTADORES</th>
                                </tr>
                            </table>
                        </div>
                        <div id="div_tabela_geral_user" style="display: none;">
                            <table class="tabela_geral" id="tabela_geral_user">
                                <tr>
                                    <th>USUARIOS</th>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>



            <div class="conteudo_user usuario" style="display: none;" id="conteudo_user_usuario">

                <div class="btns_user">

                    <div class="div_input_cad_user">
                        <label for="html">Nome</label>
                        <input type="text" class="input_user_cad">
                    </div>

                    <div class="div_input_cad_user">
                        <label for="html">E-mail</label>
                        <input type="text" class="input_user_cad">
                    </div>

                    <div class="div_input_cad_user">
                        <label for="html">Senha</label>
                        <input type="text" class="input_user_cad">
                    </div>

                    <div class="div_input_cad_user">
                        <label for="html">Confirmar senha</label>
                        <input type="text" class="input_user_cad">
                    </div>

                    <div class="div_input_cad_user div_input_cad_user_btn">
                        <button class="input_user_cad_btn btn_verm"
                            onclick="mudarTelaUser('conteudo_user', 'conteudo_user_usuario')">Voltar</button>
                        <button class="input_user_cad_btn btn_azul">Cadastrar</button>
                    </div>

                </div>

                <div class="tabela_user">

                    <div class="header_tabela">
                        <label for="jsdelivr" class="border-branco" style="font-size: 30px;">Usuários
                            cadastrados</label>
                    </div>

                    <div class="tabela_usuario">

                    </div>
                </div>

            </div>


            <div class="conteudo_user computador" id="conteudo_user_computador">

                <div class="btns_user">

                    <div class="div_input_cad_user">
                        <label for="html">Nome</label>
                        <input type="text" class="input_user_cad">
                    </div>

                    <div class="div_input_cad_user">
                        <label for="html">Área</label>
                        <input type="text" class="input_user_cad">
                    </div>

                    <div class="div_input_cad_user div_input_cad_user_btn">
                        <button class="input_user_cad_btn btn_verm"
                            onclick="mudarTelaUser('conteudo_user', 'conteudo_user_computador')">Voltar</button>
                        <button class="input_user_cad_btn btn_azul">Cadastrar</button>
                    </div>

                </div>

                <div class="tabela_user">

                    <div class="header_tabela">
                        <label for="jsdelivr" class="border-branco" style="font-size: 30px;">Máquinas
                            cadastradas</label>
                    </div>

                    <div class="tabela_usuario">

                    </div>
                </div>

            </div>

            <div class="conteudo_user perfil" id="conteudo_user_perfil">

                <div class="header_perfil">
                    <div>
                        <p id="nome_tecnico"></p>
                    </div>
                    <div>
                        <img src="img/usuario-de-perfil.png" class="img_perfil" alt="">
                    </div>
                </div>


                <div class="carousel_div">



                    <div class="campos_perfil">

                        <div class="div_campos_perfil">

                            <div class="div_input_cad_user">
                                <label>Email</label>
                                <input type="text" class="input_user_cad" id="email_tecnico" disabled>
                            </div>

                            <div class="div_input_cad_user">
                                <label>Funcao</label>
                                <input type="text" class="input_user_cad" id="funcao_tecnico" disabled>
                            </div>

                        </div>



                        <div class="div_btns_perfil">
                            <button class="input_user_cad btn_verm"
                                onclick="mudarTelaUser('conteudo_user', 'conteudo_user_perfil')">Voltar</button>
                        </div>
                    </div>

                </div>

            </div>

        </div>

        <!-- <div class="container grafMax" id="manuais" style="background-color: aqua;">
            <div class="dash-right" style="background-color: brown;">
                <div class="avisos" style="background-color: burlywood; width: 90%;" >
                    <div id="alerta"></div>
                    <div class="container">
                        <h1>Adicionar Manual</h1>
                        <div class="div-form" style="background-color: blueviolet;">
                            <form id="form_postagem" method="post" onsubmit="return publicar()">
                            <label>
                                Título:
                                <br>
                                <input name="titulo" id="titulo" maxlength="100" type="text">
                            </label>
                            <br>
                            <br>
                            <label>
                                Descrição (máximo de 250 caracteres):
                                <br>
                                <textarea name="descricao" id="textarea_descricao" maxlength="250" rows="5"></textarea>
                            </label>
                            <div id="div_mensagem"></div>
                            <br>
                            <br>
                            <button onclick="adicionarManual()">Enviar</button>
                            </form>
                        </div>
                        <h1>Manuais</h1>
                        <div class="div-results">
                            <div id="feed_container" class="feed-container">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
        <div class="container grafMax containerManual" id="manuais">
            <h1>MANUAIS</h1>

            <div id="pesquisaManuais">
                <div id="barraPesquisa">
                    <div id="pesquisaManual">
                        <input type="text" placeholder="Pesquisar por título">
                        <button onclick="listarManual()" id="buttonPesquisar">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                    <!-- <div class="divLista">
                        <ul>
                            <li></li>
                        </ul>
                    </div> -->
                </div>

                <div id="botaoAdicionar">
                    <button id="buttonAdicionar">
                        Adicionar Manual
                        <i class="bi bi-plus"></i>
                    </button>
                </div>
            </div>

            <div id="historicoManuais">
                <div class="itemManual headerManual">
                    <span>TITULO</span>
                    <div class="pencil">
                        <i class="bi bi-pencil" id="imgAlterar"></i>
                    </div>
                </div>

                <div class="itemManual textoManual">
                    <span>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eum, et dolores illum consequatur
                        veniam aliquam nulla iste sed quaerat hic dignissimos aliquid sunt dicta! Dolorem ut numquam
                        illum porro assumenda!
                        Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ex dolorem veniam optio saepe.
                        Corrupti veniam iste omnis necessitatibus quidem nesciunt, aperiam quod non quos officiis rerum
                        explicabo iusto eius dicta?Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi magni
                        consequatur aperiam atque id optio alias quae suscipit. Eligendi doloribus nobis tempore
                        veritatis ipsum? Laborum placeat eos dignissimos autem non. Lorem ipsum dolor sit amet
                        consectetur adipisicing elit. Repudiandae dolor enim sequi itaque. Illum pariatur impedit
                        adipisci, similique dolorum beatae optio deleniti veniam rem esse, facere libero!Lorem ipsum
                        dolor sit, amet consectetur adipisicing elit. Ex dolorem veniam optio saepe.
                        Corrupti veniam iste omnis necessitatibus quidem nesciunt, aperiam quod non quos officiis rerum
                        explicabo iusto eius dicta?Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi magni
                        consequatur aperiam atque id optio alias quae suscipit. Eligendi doloribus nobis tempore
                        veritatis ipsum? Laborum placeat eos dignissimos autem non. Lorem ipsum dolor sit amet
                        consectetur adipisicing elit. Repudiandae dolor enim sequi itaque. Illum pariatur impedit
                        adipisci, similique dolorum beatae optio deleniti veniam rem esse, facere libero!Lorem ipsum
                        dolor sit, amet consectetur adipisicing elit. Ex dolorem veniam optio saepe.
                        Corrupti veniam iste omnis necessitatibus quidem nesciunt, aperiam quod non quos officiis rerum
                        explicabo iusto eius dicta?Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi magni
                        consequatur aperiam atque id optio alias quae suscipit. Eligendi doloribus nobis tempore
                        veritatis ipsum? Laborum placeat eos dignissimos autem non. Lorem ipsum dolor sit amet
                        consectetur adipisicing elit. Repudiandae dolor enim sequi itaque. Illum pariatur impedit
                        adipisci, similique dolorum beatae optio deleniti veniam rem esse, facere libero!Lorem ipsum
                        dolor sit, amet consectetur adipisicing elit. Ex dolorem veniam optio saepe.
                        Corrupti veniam iste omnis necessitatibus quidem nesciunt, aperiam quod non quos officiis rerum
                        explicabo iusto eius dicta?Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi magni
                        consequatur aperiam atque id optio alias quae suscipit. Eligendi doloribus nobis tempore
                        veritatis ipsum? Laborum placeat eos dignissimos autem non. Lorem ipsum dolor sit amet
                        consectetur adipisicing elit. Repudiandae dolor enim sequi itaque. Illum pariatur impedit
                        adipisci, similique dolorum beatae optio deleniti veniam rem esse, facere libero!</span>
                </div>

                <div class="itemManual footerManual">
                    <div class="item-footer-manual divCriacao">
                        <div>
                            <p><b>Criado por:</b> nomeUsuario</p>
                        </div>

                        <div>
                            <p><b>Dia:</b> 00/00/0000</p>
                        </div>
                    </div>

                    <div class=" item-footer-manual divModificacao">
                        <div>
                            <p><b>Última modificação por:</b> nomeUsuario</p>
                        </div>

                        <div>
                            <p><b>Dia:</b> 00/00/0000</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="popAdicionar">
                <div class="headerAdicionar">
                    <h3>Novo Manual</h3>
                    <i class="bi bi-x-circle-fill" id="imgFechar"></i>
                </div>
                <div id="div_mensagem"></div>
                <div class="divInput tituloManual">
                    Título do Manual

                    <label>
                        <input name="titulo" id="titulo" maxlength="100" type="text">
                    </label>
                </div>

                <div class="divInput descricaoManual">
                    Descrição do Manual

                    <label>
                        <textarea name="descricao" id="textarea_descricao" maxlength="250" rows="5"></textarea>
                    </label>
                </div>

                <button onclick="adicionarManual()" id="buttonEnviar">
                    Adicionar
                </button>
            </div>

            <div class="popAlterar">
                <div class="headerAlterar">
                    <h3>Alterar Manual</h3>
                    <i class="bi bi-x-circle-fill" id="imgFecharAlterar"></i>
                </div>

                <div class="divInput tituloManual">
                    Título do Manual

                    <label>
                        <input name="titulo" id="titulo" maxlength="100" type="text">
                    </label>
                </div>

                <div class="divInput descricaoManual">
                    Descrição do Manual

                    <label>
                        <textarea name="descricao" id="textarea_descricao" maxlength="250" rows="5"></textarea>
                    </label>
                </div>

                <div class="botoes">
                    <button onclick="atualizarManual()" id="buttonAlterar">
                        Confirmar Alteração
                    </button>

                    <button onclick="removerManual()" id="buttonDeletar">
                        <i class="bi bi-trash"></i>
                        Excluir
                    </button>
                </div>
            </div>
        </div>

        <div class="container grafMax" id="grafMax">
            <div class="div_geral_kpi">
                <div class="div_coluna_kpi">
                    <div class="kpi">
                        <p> Computadores Ativos</p>
                        <span>7</span>
                    </div>

                    <div class="kpi">
                        <p>Sistema Operacional Linux</p>
                        <span>8</span>
                    </div>

                    <div class="kpi">
                        <div>
                            <input type="number" id="inpt_porc_armazem" class="inpt_limite" value="70">
                            <p>% ou mais de<br>armazenamento disponível</p>
                        </div>
                        <span>2</span>
                    </div>
                </div>

                <div class="div_coluna_kpi">
                    <div class="kpi">
                        <p>Todos os Computadores</p>
                        <span>10</span>
                    </div>

                    <div class="kpi">
                        <p>Sistema Operacional Windows</p>
                        <span>2</span>
                    </div>

                    <div class="kpi">
                        <div>
                            <input type="number" id="inpt_memoria_disp" class="inpt_limite" value="80">
                            <p>gb ou mais de Memória disponível</p>
                        </div>
                        <span>1</span>
                    </div>
                </div>
            </div>

            <div class="tabela_max">
                <table class="tabela_geral" id="tabela_geral_comp_max">
                    <tr>
                        <th>
                            COMPUTADORES
                        </th>
                    </tr>
                </table>
            </div>
        </div>

        <div class="container grafCard" id="grafCard">

            <div class="header_cards_grafico">
                <p>INFORMAÇÕES COMPUTADOR</p>
                <select name="slct_infos_comp_cards" id="slct_cards" class="select_card" onchange="mudarComp()">
                    <!-- <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option> -->
                </select>
            </div>

            <div class="div_linha_cards" style="justify-content: space-evenly;">
                <div class="cards">
                    <div class="titulo_card">
                        <p>VOLUME</p>
                    </div>
                    <div class="div_coluna_componentes" style="width: 100%;">
                        <p>Quantidade de Volume: 3</p>
                        <p>UUID: 4ad06ca4-4f60-4a9c-8eb2-535275a68216</p>
                        <p>volume: /dev/nvme0n1p2</p>
                        <p>total: 502 GB</p>
                        <p>disponível: 415 GB</p>
                        <p>tipo: ext4</p>

                    </div>
                </div>
                <div class="cards">
                    <div class="titulo_card">
                        <p>DISCO</p>
                    </div>
                    <div class="div_coluna_componentes">
                        <p>Quantidade de Discos: 1</p>
                        <p>Nome: /dev/nvme0n1</p>
                        <p>Tamanho: 512 GB</p>
                        <p>Total de processos: 350 </p>
                        <p>Total de Thereads: 1398</p>
                    </div>
                </div>
            </div>

            <div class="div_linha_cards">
                <div class="cards">
                    <div class="titulo_card">
                        <p>Rede</p>
                    </div>
                    <div class="div_coluna_componentes">
                        <p>Nome de domínio: matteus-Nitro-AN515-57</p>
                        <p>Endereço IPv4: 10.18.34.149</p>
                        <p>Endereço IPv6: fe80:0:0:0:651c:61e7:cfb7:ae44</p>
                        <p>Endereço MAC: 50:28:4a:a8:6c:59</p>
                        <p>Servidores DNS: 127.0.0.53</p>
                    </div>
                </div>
                <div class="cards">
                    <div class="titulo_card">
                        <p>PROCESSADOR</p>
                    </div>
                    <div class="div_coluna_componentes">
                        <p>Nome: 11th Gen Intel(R) Core(TM) i5-11400H @ 2.70GHz</p>
                        <p>Número de Pacotes Físicos: 1</p>
                        <p>Número de CPUs Fisícas: 6</p>
                        <p>Número de CPUs Lógicas: 12</p>
                    </div>
                </div>
                <div class="cards">




                    <div class="titulo_card">
                        <p>SISTEMA</p>
                    </div>
                    <div class="div_coluna_componentes">
                        <p>Modelo: Ubuntu</p>
                        <p>Arquitetura: 64bits</p>
                        <p>nicializado: 2024-05-02T19:17:16Z</p>
                    </div>
                </div>
            </div>

        </div>


        <div class="container grafMin" id="grafMin">
            <div class="header_cards_grafico">
                <p>DADOS COMPUTADOR</p>
                <select name="slct_infos_comp_cards" class="select_card" id="slct_grafiMin" onchange="mudarComp()">
                    <!-- <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option> -->
                </select>
            </div>

            <div class="div_graficos_corpo">
                <div class="div_graficos_geral">
                    <div class="div_colunas_graficos">
                        <div class="div_grafico">
                            <div class="header_grafico">
                                <p>Uso da CPU X Tempo</p>
                                <div class="div_limite_componentes">
                                    <img src="img/icone/Error.png" alt="">
                                    <input type="number" class="inpt_limite" oninput="duplica(this.id)"
                                        id="input_limite_CPU">
                                </div>
                            </div>
                            <div class="grafico">
                                <canvas id="grafico_CPU" class="cnvs"></canvas>

                            </div>
                        </div>
                        <div class="div_grafico">
                            <div class="header_grafico">
                                <p>Uso de disco X Tempo</p>
                                <div class="div_limite_componentes">
                                    <img src="img/icone/Error.png" alt="">
                                    <input type="number" class="inpt_limite" oninput="duplica(this.id)"
                                        id="input_limite_DISCO">
                                </div>
                            </div>
                            <div class="grafico">
                                <canvas id="grafico_DISCO" class="cnvs"></canvas>

                            </div>
                        </div>
                    </div>
                    <div class="div_colunas_graficos">
                        <div class="div_grafico">
                            <div class="header_grafico">
                                <p>Uso da Memoria X Tempo</p>
                                <div class="div_limite_componentes">
                                    <img src="img/icone/Error.png" alt="">
                                    <input type="number" class="inpt_limite" oninput="duplica(this.id)"
                                        id="input_limite_RAM">
                                </div>
                            </div>
                            <div class="grafico">
                                <canvas id="grafico_RAM" class="cnvs"></canvas>
                            </div>
                        </div>
                        <div class="div_grafico">
                            <div class="header_grafico">
                                <p>Velocidade rede X Tempo</p>
                                <div class="div_limite_componentes">
                                    <img src="img/icone/Error.png" alt="">
                                    <input type="number" class="inpt_limite" oninput="duplica(this.id)"
                                        id="input_limite_REDE">
                                </div>
                            </div>
                            <div class="grafico">
                                <canvas id="grafico_REDE" class="cnvs"></canvas>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="div_kpi_grafico_geral">
                    <div class="div_kpi_grafico">
                        <div class="kpi_grafico">
                            <div class="kpi_graf">
                                <p>Total de incidentes ultimos 30 dias</p>
                                <span>40</span>
                            </div>
                            <div class="kpi_graf">
                                <p>Hora inicio da coleta</p>
                                <span>10:43:35</span>
                            </div>
                            <div class="kpi_graf">
                                <p>Acessos ultimos 30 dias</p>
                                <span>25</span>
                            </div>
                        </div>
                        <div class="div_kpi_incidente_grafico">
                            <p>Incidentes registrados nos<br>ultimos 30 dias</p>
                            <div class="incidente_graf">
                                <div class="div_kpi_componemtes">
                                    <p>De CPU</p>
                                    <span>25</span>
                                </div>
                                <div class="div_kpi_componemtes">
                                    <p>De CPU</p>
                                    <span>25</span>
                                </div>
                                <div class="div_kpi_componemtes">
                                    <p>De CPU</p>
                                    <span>25</span>
                                </div>
                                <div class="div_kpi_componemtes">
                                    <p>De CPU</p>
                                    <span>25</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="div_tabela_processos">
                        <table class="tabela_min">
                            <tr>
                                <th>processos</th>
                                <th>Estado</th>
                                <th>ID</th>
                            </tr>
                            <tr>
                                <td>colord</td>
                                <td>RUNNING</td>
                                <td>1657</td>
                            </tr>

                            <tr>
                                <td>accounts-daemon</td>
                                <td>RUNNING</td>
                                <td>1662</td>
                            </tr>

                            <tr>
                                <td>anacron</td>
                                <td>RUNNING</td>
                                <td>1674</td>
                            </tr>

                            <tr>
                                <td>apparmor</td>
                                <td>RUNNING</td>
                                <td>1538</td>
                            </tr>

                            <tr>
                                <td>avahi-daemon</td>
                                <td>RUNNING</td>
                                <td>5</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</body>

</html>

<script>




    function mudarTela(tela) {
        window.location.href = `${tela}.html`
    }

    window.onload = plotarUser();

    function plotarUser() {
        // var user = JSON.parse(sessionStorage.USUARIO_MUDAR);

        // alert(user.nome)

        var nomeVar = document.getElementById('nome_tecnico').innerHTML = sessionStorage.NOME_USUARIO;
        var emailVar = document.getElementById('email_tecnico').value = sessionStorage.EMAIL_USUARIO;
        var senhaVar = document.getElementById('funcao_tecnico').value = sessionStorage.TIPO_USUARIO;
        // var confirmacaoSenhaVar = document.getElementById('inpt_confSenha_alt');
        // var funcao = document.getElementById('inpt_funcao_cad').value = user.tipoUsuario;


        // nomeVar.value = user.nome;
    }

    var graficos = ['grafico_CPU', 'grafico_DISCO', 'grafico_RAM', 'grafico_REDE'];
    var labe = ['CPU', 'DISCO', 'RAM', 'REDE'];
    var cor = ['#EDF2F4', '#A8DADC', '#457B9D', '#EDF2F4']

    var listaUser;
    var listarComp;

    function PlotarTabela(jsonComp, jsonUser) {
        var qtdLinhasTableComp = jsonComp.length//Math.floor((Math.random() * 10) + 1);
        var qtdLinhasTableUser = jsonUser.length;

        listaUser = jsonUser;
        listarComp = jsonComp;

        // console.log(listaUser);

        var linhasTable = []
        var tabela = document.getElementById('tabela_geral_comp')
        var tabela2 = document.getElementById('tabela_geral_comp_max')

        tabela.innerHTML = '';
        tabela2.innerHTML = '';
        for (let i = 0; i < qtdLinhasTableComp; i++) {
            // console.log(listarComp[i]);
            // console.log(jsonComp[i]);

            var linha = `<tr id= "linha_computador_${jsonComp[i].idMaquina}" class= "linha_geral linha_computador_${jsonComp[i].idMaquina}">
                    <td id = "computador_${jsonComp[i].idMaquina}" class="computador_${jsonComp[i].idMaquina}">Computador ${i + 1} - ${listarComp[i].hostName}</td>
                    <td class = "x_tabela_geral x_linha_comp_${jsonComp[i].idMaquina}" id= "${jsonComp[i].idMaquina}" onclick="eliminarLinha(this.id)">X</td>
                </tr>`

            tabela.innerHTML += linha;


        }

        for (let i = 0; i < qtdLinhasTableComp; i++) {

            var linha = `<tr id= "linha_computador_max_${jsonComp[i].idMaquina}" class= "linha_geral linha_computador_max_${jsonComp[i].idMaquina}">
                                <td id = "computador_max_${jsonComp[i].idMaquina}" class=""computador_max_${jsonComp[i].idMaquina}"">Computador ${i + 1} - ${listarComp[i].hostName}</td>
                                <td class = "x_tabela_geral x_linha_comp_${jsonComp[i].idMaquina}" id= "${jsonComp[i].idMaquina}" onclick="eliminarLinha(this.id)">X</td>
                            </tr>`

            tabela2.innerHTML += linha


        }

        var slct = document.getElementById("slct_cards");
        var slct2 = document.getElementById("slct_grafiMin");

        // console.log(slct2);
        for (let j = 0; j < qtdLinhasTableComp; j++) {
            // alert(j)

            var opcao = `<option value = "${listarComp[j].hostName}">${j + 1} - ${listarComp[j].hostName}</option>`
            // <option value="4">4</option>
            // alert(opcao)
            slct.innerHTML += opcao;
            slct2.innerHTML += opcao;
        }


        var tabela2 = document.getElementById('tabela_geral_user')
        for (let i = 0; i < qtdLinhasTableUser; i++) {

            var linha = `<tr id= "linha_usuario_${jsonUser[i].idUsuario}" class= "linha_geral linha_usuario_${jsonUser[i].idUsuario}">
                <td id = "usuario_${jsonUser[i].idUsuario}" class= "usuario_${jsonUser[i].idUsuario}">usuario ${i + 1}</td>
                <td id = "usuarioMudar_${jsonUser[i].idUsuario}" class= "usuario_${jsonUser[i].idUsuario}" 
                onclick="alterarUser(this.id)" style = "cursor: pointer;">Alterar usuário</td>
                <td class = "x_tabela_geral x_linha_user_${jsonUser[i].idUsuario}" id= "x_linha_user_${jsonUser[i].idUsuario}" onclick="eliminarLinha(acharClass(this.className))">X</td>
                        </tr>`

            tabela2.innerHTML += linha;
            // 
        }
    }

    function alterarUser(id) {

        var id_user = id.slice(id.length - 1, id.length)

        sessionStorage.IDUSUARIO_MUDAR = id_user

        // alert(sessionStorage.IDUSUARIO_MUDAR)

        for (let i = 0; i < listaUser.length; i++) {
            const element = listaUser[i];

            console.log(element.idUsuario);

            var jsonUser = JSON.stringify(element)

            sessionStorage.IDUSUARIO_MUDAR = id_user

            sessionStorage.USUARIO_MUDAR = jsonUser

            // if(listaUser.idUsuario == id){

            mudarContainer('alterarUsuario.html')

            // }

        }


    }

    var Limite = {};
    Limite.CPU = 75;
    Limite.RAM = 75;
    Limite.REDE = 75;
    Limite.DISCO = 75;

    console.log(Limite);

    window.onload = listarComputadores();


    function listarComputadores() {
        // alert("asdasdasd");
        console.log("estou pegando as infos dos notbooks");
        fetch("/computador/listarComputadores", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkEmpresaServer: sessionStorage.FK_EMPRESA,
            })
        }).then(function (resposta) {
            console.log("ESTOU NO THEN DO COMPUTADORES()!")

            if (resposta.status == 200) {

                resposta.json().then(json => {
                    // console.log(json[0].nomeFantasia); //vetor, pegando o nomeFantasia do primeiro item
                    console.log(JSON.stringify(json));
                    // console.log(json[0].idMaquina);
                    // PlotarTabela(json);
                    listarUsuarios(json);

                });

            } else {
                // div_mensagem.innerHTML = '<p class="erro">E-mail ou Senha inválidos<br></p>'
                console.log("Houve um erro ao tentar listar os computadores!");
                resposta.text().then(texto => {
                    console.error(texto);
                });
            }

        }).catch(function (erro) {
            console.log(erro);
        })



    }

    function listarUsuarios(jsonComp) {
        console.log("Estou pegando as infos de usuario");
        fetch("/usuarios/listarUsuarios", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkEmpresaServer: sessionStorage.FK_EMPRESA,
            })
        }).then(function (resposta) {
            console.log("ESTOU NO THEN DO entrar()!")

            if (resposta.status == 200) {

                resposta.json().then(json => {
                    // console.log(json[0].nomeFantasia); //vetor, pegando o nomeFantasia do primeiro item
                    console.log(JSON.stringify(json));
                    // console.log(json[0].idMaquina);
                    PlotarTabela(jsonComp, json);
                    plotar();
                });

            } else {
                // div_mensagem.innerHTML = '<p class="erro">E-mail ou Senha inválidos<br></p>'
                console.log("Houve um erro ao tentar listar os computadores!");
                resposta.text().then(texto => {
                    console.error(texto);
                });
            }

        }).catch(function (erro) {
            console.log(erro);
        })
    }

    // window.onload = plotar();
    // window.onload = PlotarTabela();

    function acharClass(teste) {
        let classAtual = teste.slice((teste.lastIndexOf(" ") + 1), teste.length)
        // alert(classAtual)
        return classAtual
    }

    function mudarContainer(pg) {
        if (pg == 'index.html') {
            sessionStorage.clear();
            localStorage.clear();
        }
        // alert(`#${pg}`)
        // alert('1as1')
        document.location.href = `${pg}`
    }


    function mudarTelaUser(tela, telaS) {
        elemento = document.getElementById(tela)
        elemento2 = document.getElementById(telaS)

        elemento2.style.animation = 'sumir .4s linear'

        setTimeout(function () {
            elemento.style.animation = 'sumir .4s linear reverse '

            elemento.style.display = 'flex'
            elemento2.style.display = 'none'
        }, 400)

        setTimeout(function () {
            elemento.style.animation = null;
            elemento2.style.animation = null;
        }, 800);

    }

    function mudarTabela(id) {
        user = document.getElementById('div_tabela_geral_user');
        comp = document.getElementById('div_tabela_geral_comp')
        if (id == 'radio_label_user') {
            comp.style.display = 'none'
            user.style.display = 'inline'
        } else {
            user.style.display = 'none'
            comp.style.display = 'inline'
        }
    }

    function duplica(idAtu) {
        const codigomaterial = document.getElementById(idAtu).value;

        if (codigomaterial > 100 || codigomaterial < 0) {
            const codigoalterado = codigomaterial.normalize('NFD').replace(/([\u0300-\u036f]|[^_0-9a-zA-Z\s])/g, '').replace(/ /g, "_").toLowerCase().substring(0, 2);
            document.getElementById(idAtu).value = codigoalterado;
        }
        mudarLimite(idAtu)
    };

    function mudarLimite(id) {
        let valor = document.getElementById(id).value

        let comp = id.slice((id.lastIndexOf("_") + 1), id.length)
        if(comp == 'RAM'){
            comp = 'Memoria'
        }
        Limite[comp] = Number(valor);

        console.log(Limite);

    }

    function eliminarLinha(id) {
        // x_linha_${i}
        // linha_computador_${i}
        // idLinha = id.slice((id.lastIndexOf("_") + 1), id.length)
        // alert(idLinha)
        // elemento = document.getElementById(id)


        // var ele1 = document.getElementById(elemento)
        // console.log(ele1)

        // var id_computador = id.slice(id.length - 1, id.length)

        console.log(id)



        fetch("/computador/excluirComputador", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                idComputadorServer: id,
            })
        }).then(function (resposta) {
            console.log("ESTOU NO THEN DO entrar()!")

            if (resposta.status == 200) {

                // alert("teste")
                listarComputadores();
                resposta.then(json => {
                    // console.log(json[0].nomeFantasia); //vetor, pegando o nomeFantasia do primeiro item
                    console.log(JSON.stringify(json));

                });

            } else {
                // div_mensagem.innerHTML = '<p class="erro">E-mail ou Senha inválidos<br></p>'
                console.log("Houve um erro ao tentar excluir o computadore!");
                resposta.text().then(texto => {
                    console.error(texto);
                });
            }

        }).catch(function (erro) {
            console.log(erro);
        })


        // if (elementoVo) {
        //     elementoVo.removeChild(elementoPai);
        // }

    }


    function plotar() {
        for (let i = 0; i <= 3; i++) {
            var graficoAtual = graficos[i];
            var labelAtual = labe[i];
            var corAtual = cor[i]
            plotarGrafico(graficoAtual, labelAtual, corAtual)

        }
    }

    var labels = [];
    var data = [];
    var data2 = [];
    function plotarGrafico(grafico, lab, color_border) {
        var componenteAtual = lab.toLowerCase();
        let comp;
        let myChart;

        fetch("/dash/buscarUltimasMedidas" + componenteAtual, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkMaquinaServer: slct_grafiMin.value,
            })
        }).then(function (resposta) {
            console.log("ESTOU NO THEN DO COMPUTADORES()!")

            if (resposta.status == 200) {

                resposta.json().then(json => {
                    console.log(json);


                    labels = [];
                    data = [];
                    data2 = [];
                    comp = grafico.slice((grafico.indexOf("_") + 1), grafico.length)
                    for (let i = 0; i < json.length; i++) {


                        let dataHora = new Date(json[i].dataHora);
                        let hora = dataHora.getHours();
                        let minutos = dataHora.getMinutes();
                        let segundos = dataHora.getSeconds();

                        let horario = (hora + ":" + minutos + ":" + segundos);

                        console.log(json[i].valorCampo)
                        var num = json[i].valorCampo;
                        data.push(num);
                        data2.push(Limite[comp])
                        labels.push(horario)
                        color_border

                    }
                    let dados = {
                        labels: labels,
                        datasets: [
                            {
                                label: lab,
                                data: data,
                                fill: true,
                                backgroundColor: (`${color_border}33`),
                                borderColor: (color_border),
                                pointBackgroundColor: (color_border),
                            },
                            {
                                label: 'Limite',
                                data: data2,
                                fill: true,
                                borderColor: 'rgb(75, 192, 192)',
                                backgroundColor: ('#00000000'),
                                borderColor: ('#E63946'),
                                borderWidth: 2,
                                pointStyle: 'none',
                                pointBackgroundColor: '#E63946',
                                pointRadius: 2
                            }
                        ],

                    };

                    const config = {
                        type: 'line',
                        data: dados,
                        options: {
                            elements: {
                                point: {
                                    backgroundColor: ('#E6394')
                                }
                            }
                        }

                    };

                    myChart = new Chart(
                        document.getElementById(grafico),
                        config
                    );


                });

            } else {
                // div_mensagem.innerHTML = '<p class="erro">E-mail ou Senha inválidos<br></p>'
                console.log("Houve um erro ao tentar listar os computadores!");
                resposta.text().then(texto => {
                    console.error(texto);
                });
            }

        }).catch(function (erro) {
            console.log(erro);
        })




        setTimeout(() => atualizarGrafico(data, data2, myChart, labels, comp), 5000);

    }

    function atualizarGrafico(dados, dados2, myChart, labels, comp) {
        console.log(comp)
        fetch("/dash/atualizarMedidas" + comp.toLowerCase(), {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkMaquinaServer: slct_grafiMin.value,
            })
        }).then(function (resposta) {
            if (resposta.status == 200) {

                resposta.json().then(json => {
                    if (json.length > 0) {
                        let dataHora = new Date(json[0].dataHora);
                        let hora = dataHora.getHours();
                        let minutos = dataHora.getMinutes();
                        let segundos = dataHora.getSeconds();

                        let horario = (hora + ":" + minutos + ":" + segundos);

                        
                        // myChart.data.labels.shift(); // apagar o primeiro
                        // myChart.data.labels.push(myChart.data.labels.length + 2); // incluir um novo momento
                        
                        var medidaAtual = json[0].valorCampo;
                        console.log(comp + ": " + medidaAtual)

                        myChart.data.datasets[0].data.shift();  // apagar o primeiro de temperatura
                        myChart.data.datasets[0].data.push(medidaAtual);

                        myChart.data.labels.shift();  // apagar o primeiro de temperatura
                        myChart.data.labels.push(horario);

                        myChart.data.datasets[1].data.shift();  // apagar o primeiro de temperatura
                        myChart.data.datasets[1].data.push(Limite[comp]);

                        myChart.update();
                    }
                })
            }

        }).catch(function (erro) {
            console.log(erro);
        })



        setTimeout(() => atualizarGrafico(data, data2, myChart, labels, comp), 20000);
    }

    var menuItem = document.querySelectorAll('.item-menu')

    function selectLink() {
        menuItem.forEach((item) =>
            item.classList.remove('ativo')
        )
        this.classList.add('ativo')
    }

    menuItem.forEach((item) =>
        item.addEventListener('click', selectLink)
    )


    function expandir() {



        div1 = document.getElementById('menu-lateral');
        txtLink = document.getElementsByClassName('txt-link')

        if (div1.style.width == '100px') {
            div1.style.width = '270px';
            // txtLink.style.display = "none";
            $('.txt-link').css('display', 'block');
        } else {
            div1.style.width = '100px'
            txtLink.style.display = "block";

        }
    }

    document.getElementById('buttonAdicionar').addEventListener('click', function(){
        document.querySelector(".popAdicionar").style.display = "flex";
    });

    document.getElementById('imgFechar').addEventListener('click', function () {
        document.querySelector(".popAdicionar").style.display = "none";
    });

    document.getElementById('imgAlterar').addEventListener('click', function () {
        document.querySelector(".popAlterar").style.display = "flex";
    });

    document.getElementById('imgFecharAlterar').addEventListener('click', function () {
        document.querySelector(".popAlterar").style.display = "none";
    });

</script>